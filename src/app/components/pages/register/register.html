<main>
  <div class="header" (click)="p.route = '/'">
		<div class="logo" [ngStyle]="{ 'background-image': 'url(' + p.logo + ')' }"></div>
		<div class="text">
			<span class="title">Association des Étudiants</span>
			<span class="subtitle">de l'université de technologie de Belfort-Montbéliard</span>
		</div>
	</div>

	<div *ngIf="u.isLoggedIn" class="warning">
		{{ 'register.already_registered_and_logged_as_x' | translate: { name: u.fullName } }}
	</div>

  <form>
    <div class="form-head">
      <app-title [text]="'global.register' | translate" [onDarkBackground]="true"/>
      <a class="global-link" href="/login">{{ 'register.already_have_account' | translate }}</a>
    </div>

    <div class="form-body">
      <div class="input-container">
        <div class="input">
          <input name="lastName" [(ngModel)]="fields['lastName']" (ngModelChange)="lastNameUpdate()" type="text" placeholder="{{ 'global.last_name' | translate }}" />
        </div>
        <span *ngIf="errors['lastName']" class="error no-margin">{{ errors['lastName'] | translate }}</span>
      </div>

      <div class="input-container">
        <div class="input">
          <input name="firstName" [(ngModel)]="fields['firstName']" (ngModelChange)="firstNameUpdate()" type="text" placeholder="{{ 'global.first_name' | translate }}" />
        </div>
        <span *ngIf="errors['firstName']" class="error no-margin">{{ errors['firstName'] | translate }}</span>
      </div>

      <div class="input-container">
				<div class="input">
					<icon-calendar class="icon" />
					<input name="birthDate" [(ngModel)]="fields['birthDate']" (ngModelChange)="birthDateUpdate()" type="date" />
				</div>
				<span class="info">{{ 'register.date_birth_no_modif' | translate }}</span>
				<span *ngIf="errors['birthDate']" class="error">{{ errors['birthDate'] | translate: { min: MIN_AGE, max: MAX_AGE } }}</span>
			</div>

      <div class="input-container">
				<div class="input">
					<icon-at class="icon" />
					<input name="email" [(ngModel)]="fields['email']" (ngModelChange)="emailUpdate()" type="text" placeholder="{{ 'global.email_template' | translate }}" />
				</div>
				<span *ngIf="errors['email']" class="error">{{ errors['email'] | translate }}</span>
			</div>

			<div class="input-container">
				<div class="input">
					<icon-password class="icon" />
					<input name="password" [(ngModel)]="fields['password']" (ngModelChange)="passwordUpdate()" type="password" placeholder="********" />
				</div>
				<span class="info">{{ 'register.min_password' | translate }}</span>
				<span *ngIf="errors['password']" class="error">{{ errors['password'] | translate }}</span>
			</div>

      <div class="input-container">
				<div class="input">
					<icon-password class="icon" />
					<input name="passwordConfirm" [(ngModel)]="fields['passwordConfirm']" (ngModelChange)="passwordUpdate()" type="password" placeholder="********" />
				</div>
				<span class="info">{{ 'register.confirm_password' | translate }}</span>
				<span *ngIf="errors['passwordConfirm']" class="error">{{ errors['passwordConfirm'] | translate }}</span>
			</div>
    </div>

    <app-button height="large" class="form-button" [text]="'global.register' | translate"></app-button>
  </form>
</main>